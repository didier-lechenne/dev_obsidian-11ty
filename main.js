/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => Obsidian11tyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/utils/constants.ts
var CSS_VAR_MAPPING = {
  col: "--col",
  printCol: "--print-col",
  width: "--width",
  printWidth: "--print-width",
  printRow: "--print-row",
  printHeight: "--print-height",
  alignSelf: "--align-self",
  alignself: "--align-self",
  "align-self": "--align-self",
  imgX: "--img-x",
  imgY: "--img-y",
  imgW: "--img-w",
  page: "--pagedjs-full-page"
};
var SHORTCODE_REGEX = /\{%\s*(\w+)\s+([^%]+)\s*%\}/g;
var SUPPORTED_SHORTCODE_TYPES = [
  "image",
  "grid",
  "video",
  "figure",
  "imagenote",
  "fullpage"
];

// src/utils/helpers.ts
function generateStyles(config) {
  const styles = {};
  Object.entries(config).forEach(([key, value]) => {
    if (CSS_VAR_MAPPING[key] && value !== void 0 && value !== null && value !== "") {
      const cleanValue = typeof value === "string" ? value.replace(/^["']|["']$/g, "") : value;
      styles[CSS_VAR_MAPPING[key]] = cleanValue;
    }
  });
  return styles;
}
function applyStyles(element, config) {
  const styles = generateStyles(config);
  Object.entries(styles).forEach(([property, value]) => {
    element.style.setProperty(property, value);
  });
}
function cleanAlt(caption) {
  if (!caption) return "";
  return caption.replace(/\*([^*]+)\*/g, "$1").replace(/<[^>]+>/g, " ").replace(/&[^;]+;/g, " ").replace(/\s+/g, " ").trim();
}
function renderMarkdown(text) {
  return text.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>").replace(/\*(.*?)\*/g, "<em>$1</em>").replace(/`(.*?)`/g, "<code>$1</code>");
}
function parseShortcodeParams(params) {
  params = params.trim();
  const match = params.match(/^["']([^"']+)["'](?:\s*,\s*(\{.*\}))?$/);
  if (!match) {
    throw new Error("Format de param\xE8tres invalide");
  }
  const src = match[1];
  let options = {};
  if (match[2]) {
    try {
      const cleanOptions = match[2].replace(/,(\s*[}\]])/g, "$1");
      options = Function(`"use strict"; return (${cleanOptions})`)();
    } catch (e) {
      console.warn("Erreur parsing options:", e);
      options = {};
    }
  }
  return { src, options };
}

// src/utils/shortcode-renderer.ts
var ShortcodeRenderer = class {
  constructor() {
    this.globalElementCounter = 0;
  }
  render(type, params) {
    if (!SUPPORTED_SHORTCODE_TYPES.includes(type)) {
      console.warn(`Type de shortcode non support\xE9: ${type}`);
      return null;
    }
    const { src, options = {} } = params;
    const config = { src, ...options };
    switch (type) {
      case "image":
        return this.createImageElement(config);
      case "grid":
        return this.createGridElement(config);
      case "video":
        return this.createVideoElement(config);
      case "figure":
        return this.createFigureElement(config);
      case "imagenote":
        return this.createImageNoteElement(config);
      case "fullpage":
        return this.createFullPageElement(config);
      default:
        return null;
    }
  }
  createImageElement(config) {
    this.globalElementCounter++;
    const figure = document.createElement("figure");
    figure.setAttribute("data-id", config.id || "");
    figure.setAttribute("data-src", config.src || "");
    figure.setAttribute("data-grid", "image");
    figure.id = `image-${this.globalElementCounter}`;
    figure.className = `figure image${config.class ? " " + config.class : ""}`;
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    figure.appendChild(img);
    if (config.caption) {
      const figcaption = document.createElement("figcaption");
      figcaption.className = "figcaption";
      figcaption.innerHTML = renderMarkdown(config.caption);
      figure.appendChild(figcaption);
    }
    applyStyles(figure, config);
    return figure;
  }
  createGridElement(config) {
    this.globalElementCounter++;
    const figure = document.createElement("figure");
    figure.setAttribute("data-id", config.id || "");
    figure.setAttribute("data-src", config.src || "");
    figure.setAttribute("data-grid", "image");
    figure.id = `figure-${this.globalElementCounter}`;
    figure.className = config.class || "";
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    figure.appendChild(img);
    applyStyles(figure, config);
    if (config.caption) {
      const figcaption = document.createElement("figcaption");
      figcaption.className = `figcaption figcaption-${this.globalElementCounter}`;
      figcaption.innerHTML = renderMarkdown(config.caption);
      applyStyles(figcaption, config);
      const wrapper = document.createElement("div");
      wrapper.appendChild(figure);
      wrapper.appendChild(figcaption);
      return wrapper;
    }
    return figure;
  }
  createVideoElement(config) {
    const figure = document.createElement("figure");
    figure.className = `video${config.class ? " " + config.class : ""}`;
    figure.setAttribute("data-grid", "content");
    const video = document.createElement("video");
    video.controls = true;
    if (config.poster) {
      video.poster = config.poster;
    }
    const source = document.createElement("source");
    source.src = config.src || "";
    video.appendChild(source);
    figure.appendChild(video);
    if (config.caption) {
      const figcaption = document.createElement("figcaption");
      figcaption.className = "figcaption";
      figcaption.innerHTML = renderMarkdown(config.caption);
      figure.appendChild(figcaption);
    }
    applyStyles(figure, config);
    return figure;
  }
  createFigureElement(config) {
    this.globalElementCounter++;
    const wrapper = document.createElement("div");
    const spanCall = document.createElement("span");
    spanCall.className = "spanMove figure_call";
    spanCall.id = `fig-${this.globalElementCounter}-call`;
    const link = document.createElement("a");
    link.href = `#fig-${this.globalElementCounter}`;
    link.textContent = `fig. ${this.globalElementCounter}`;
    spanCall.appendChild(document.createTextNode("["));
    spanCall.appendChild(link);
    spanCall.appendChild(document.createTextNode("]"));
    const spanFig = document.createElement("span");
    spanFig.className = `figure figmove${config.class ? " " + config.class : ""}`;
    spanFig.setAttribute("data-src", config.src || "");
    spanFig.setAttribute("data-grid", "image");
    spanFig.id = `fig-${this.globalElementCounter}`;
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    spanFig.appendChild(img);
    if (config.caption) {
      const captionSpan = document.createElement("span");
      captionSpan.className = "figcaption";
      const refSpan = document.createElement("span");
      refSpan.className = "figure_reference";
      refSpan.textContent = `[fig. ${this.globalElementCounter}]`;
      captionSpan.appendChild(refSpan);
      captionSpan.appendChild(document.createTextNode(" "));
      captionSpan.innerHTML += renderMarkdown(config.caption);
      spanFig.appendChild(captionSpan);
    }
    applyStyles(spanFig, config);
    wrapper.appendChild(spanCall);
    wrapper.appendChild(spanFig);
    return wrapper;
  }
  createImageNoteElement(config) {
    const span = document.createElement("span");
    span.className = `imagenote sideNote${config.class ? " " + config.class : ""}`;
    span.setAttribute("data-src", config.src || "");
    span.setAttribute("data-grid", "image");
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    span.appendChild(img);
    if (config.caption) {
      const captionSpan = document.createElement("span");
      captionSpan.className = "caption";
      captionSpan.innerHTML = renderMarkdown(config.caption);
      span.appendChild(captionSpan);
    }
    applyStyles(span, config);
    return span;
  }
  createFullPageElement(config) {
    this.globalElementCounter++;
    const figure = document.createElement("figure");
    figure.setAttribute("data-id", config.id || "");
    figure.setAttribute("data-src", config.src || "");
    figure.setAttribute("data-grid", "image");
    figure.id = `figure-${this.globalElementCounter}`;
    figure.className = `full-page${config.class ? " " + config.class : ""}`;
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    figure.appendChild(img);
    applyStyles(figure, config);
    return figure;
  }
};

// src/utils/shortcode-processor.ts
var ShortcodeProcessor = class {
  constructor() {
    this.renderer = new ShortcodeRenderer();
  }
  processElement(element, context) {
    const walker = document.createTreeWalker(
      element,
      NodeFilter.SHOW_TEXT,
      null
    );
    const textNodes = [];
    let node;
    while (node = walker.nextNode()) {
      if (node.textContent && this.containsShortcode(node.textContent)) {
        textNodes.push(node);
      }
    }
    textNodes.forEach((textNode) => {
      this.processTextNode(textNode);
    });
  }
  containsShortcode(text) {
    return /\{%.*%\}/.test(text);
  }
  processTextNode(textNode) {
    const text = textNode.textContent || "";
    const fragments = [];
    let lastIndex = 0;
    SHORTCODE_REGEX.lastIndex = 0;
    let match;
    while ((match = SHORTCODE_REGEX.exec(text)) !== null) {
      if (match.index > lastIndex) {
        fragments.push(text.slice(lastIndex, match.index));
      }
      const [fullMatch, type, params] = match;
      const htmlElement = this.parseAndRender(type, params);
      if (htmlElement) {
        fragments.push(htmlElement);
      } else {
        fragments.push(fullMatch);
      }
      lastIndex = match.index + fullMatch.length;
    }
    if (lastIndex < text.length) {
      fragments.push(text.slice(lastIndex));
    }
    if (fragments.length > 1 || fragments.length === 1 && typeof fragments[0] !== "string") {
      const parentNode = textNode.parentNode;
      if (parentNode) {
        fragments.forEach((fragment) => {
          if (typeof fragment === "string") {
            if (fragment.trim()) {
              parentNode.insertBefore(document.createTextNode(fragment), textNode);
            }
          } else {
            parentNode.insertBefore(fragment, textNode);
          }
        });
        parentNode.removeChild(textNode);
      }
    }
  }
  parseAndRender(type, params) {
    try {
      const parsedParams = parseShortcodeParams(params);
      return this.renderer.render(type, parsedParams);
    } catch (error) {
      console.error("Erreur parsing shortcode:", error);
      return null;
    }
  }
};

// src/main.ts
var Obsidian11tyPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.processor = new ShortcodeProcessor();
    this.registerMarkdownPostProcessor((element, context) => {
      this.processor.processElement(element, context);
    });
  }
  onunload() {
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3V0aWxzL2NvbnN0YW50cy50cyIsICJzcmMvdXRpbHMvaGVscGVycy50cyIsICJzcmMvdXRpbHMvc2hvcnRjb2RlLXJlbmRlcmVyLnRzIiwgInNyYy91dGlscy9zaG9ydGNvZGUtcHJvY2Vzc29yLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFNob3J0Y29kZVByb2Nlc3NvciB9IGZyb20gJy4vdXRpbHMvc2hvcnRjb2RlLXByb2Nlc3Nvcic7XHJcblxyXG5cclxuLy8gaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xyXG4vLyBcdG15U2V0dGluZzogc3RyaW5nO1xyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNeVBsdWdpblNldHRpbmdzID0ge1xyXG4vLyBcdG15U2V0dGluZzogJ2RlZmF1bHQnXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2lkaWFuMTF0eVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0cHJpdmF0ZSBwcm9jZXNzb3I6IFNob3J0Y29kZVByb2Nlc3NvcjtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0dGhpcy5wcm9jZXNzb3IgPSBuZXcgU2hvcnRjb2RlUHJvY2Vzc29yKCk7XHJcblx0XHRcclxuXHRcdC8vIFRyYWl0ZW1lbnQgZGVzIHNob3J0Y29kZXMgZGFucyBsZSBwcmV2aWV3XHJcblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yKChlbGVtZW50LCBjb250ZXh0KSA9PiB7XHJcblx0XHRcdHRoaXMucHJvY2Vzc29yLnByb2Nlc3NFbGVtZW50KGVsZW1lbnQsIGNvbnRleHQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdC8vIENsZWFudXAgYXV0b21hdGlxdWUgdmlhIHJlZ2lzdGVyTWFya2Rvd25Qb3N0UHJvY2Vzc29yXHJcblx0fVxyXG59XHJcblxyXG4vLyBjbGFzcyBTYW1wbGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuLy8gXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xyXG4vLyBcdFx0c3VwZXIoYXBwKTtcclxuLy8gXHR9XHJcblxyXG4vLyBcdG9uT3BlbigpIHtcclxuLy8gXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuLy8gXHRcdGNvbnRlbnRFbC5zZXRUZXh0KCdXb2FoIScpO1xyXG4vLyBcdH1cclxuXHJcbi8vIFx0b25DbG9zZSgpIHtcclxuLy8gXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuLy8gXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4vLyBcdH1cclxuLy8gfVxyXG5cclxuLy8gY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4vLyBcdHBsdWdpbjogTXlQbHVnaW47XHJcblxyXG4vLyBcdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE15UGx1Z2luKSB7XHJcbi8vIFx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcbi8vIFx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuLy8gXHR9XHJcblxyXG4vLyBcdGRpc3BsYXkoKTogdm9pZCB7XHJcbi8vIFx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcbi8vIFx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuLy8gXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4vLyBcdFx0XHQuc2V0TmFtZSgnU2V0dGluZyAjMScpXHJcbi8vIFx0XHRcdC5zZXREZXNjKCdJdFxcJ3MgYSBzZWNyZXQnKVxyXG4vLyBcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuLy8gXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHlvdXIgc2VjcmV0JylcclxuLy8gXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nKVxyXG4vLyBcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuLy8gXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZyA9IHZhbHVlO1xyXG4vLyBcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbi8vIFx0XHRcdFx0fSkpO1xyXG4vLyBcdH1cclxuLy8gfVxyXG4iLCAiaW1wb3J0IHsgQ3NzVmFyTWFwcGluZyB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBDU1NfVkFSX01BUFBJTkc6IENzc1Zhck1hcHBpbmcgPSB7XHJcblx0Y29sOiAnLS1jb2wnLFxyXG5cdHByaW50Q29sOiAnLS1wcmludC1jb2wnLFxyXG5cdHdpZHRoOiAnLS13aWR0aCcsXHJcblx0cHJpbnRXaWR0aDogJy0tcHJpbnQtd2lkdGgnLFxyXG5cdHByaW50Um93OiAnLS1wcmludC1yb3cnLFxyXG5cdHByaW50SGVpZ2h0OiAnLS1wcmludC1oZWlnaHQnLFxyXG5cdGFsaWduU2VsZjogJy0tYWxpZ24tc2VsZicsXHJcblx0YWxpZ25zZWxmOiAnLS1hbGlnbi1zZWxmJyxcclxuXHQnYWxpZ24tc2VsZic6ICctLWFsaWduLXNlbGYnLFxyXG5cdGltZ1g6ICctLWltZy14JyxcclxuXHRpbWdZOiAnLS1pbWcteScsXHJcblx0aW1nVzogJy0taW1nLXcnLFxyXG5cdHBhZ2U6ICctLXBhZ2VkanMtZnVsbC1wYWdlJyxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBTSE9SVENPREVfUkVHRVggPSAvXFx7JVxccyooXFx3KylcXHMrKFteJV0rKVxccyolXFx9L2c7XHJcblxyXG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX1NIT1JUQ09ERV9UWVBFUyA9IFtcclxuXHQnaW1hZ2UnLFxyXG5cdCdncmlkJywgXHJcblx0J3ZpZGVvJyxcclxuXHQnZmlndXJlJyxcclxuXHQnaW1hZ2Vub3RlJyxcclxuXHQnZnVsbHBhZ2UnXHJcbl0gYXMgY29uc3Q7IiwgImltcG9ydCB7IFNob3J0Y29kZUNvbmZpZyB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgQ1NTX1ZBUl9NQVBQSU5HIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlU3R5bGVzKGNvbmZpZzogU2hvcnRjb2RlQ29uZmlnKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XHJcblx0Y29uc3Qgc3R5bGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcblx0XHJcblx0T2JqZWN0LmVudHJpZXMoY29uZmlnKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuXHRcdGlmIChDU1NfVkFSX01BUFBJTkdba2V5XSAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSAnJykge1xyXG5cdFx0XHRjb25zdCBjbGVhblZhbHVlID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlLnJlcGxhY2UoL15bXCInXXxbXCInXSQvZywgJycpIDogdmFsdWU7XHJcblx0XHRcdHN0eWxlc1tDU1NfVkFSX01BUFBJTkdba2V5XV0gPSBjbGVhblZhbHVlO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlTdHlsZXMoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNvbmZpZzogU2hvcnRjb2RlQ29uZmlnKTogdm9pZCB7XHJcblx0Y29uc3Qgc3R5bGVzID0gZ2VuZXJhdGVTdHlsZXMoY29uZmlnKTtcclxuXHRPYmplY3QuZW50cmllcyhzdHlsZXMpLmZvckVhY2goKFtwcm9wZXJ0eSwgdmFsdWVdKSA9PiB7XHJcblx0XHRlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkFsdChjYXB0aW9uOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdGlmICghY2FwdGlvbikgcmV0dXJuICcnO1xyXG5cdFxyXG5cdHJldHVybiBjYXB0aW9uXHJcblx0XHQucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnJDEnKVxyXG5cdFx0LnJlcGxhY2UoLzxbXj5dKz4vZywgJyAnKVxyXG5cdFx0LnJlcGxhY2UoLyZbXjtdKzsvZywgJyAnKVxyXG5cdFx0LnJlcGxhY2UoL1xccysvZywgJyAnKVxyXG5cdFx0LnRyaW0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlck1hcmtkb3duKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0cmV0dXJuIHRleHRcclxuXHRcdC5yZXBsYWNlKC9cXCpcXCooLio/KVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpXHJcblx0XHQucmVwbGFjZSgvXFwqKC4qPylcXCovZywgJzxlbT4kMTwvZW0+JylcclxuXHRcdC5yZXBsYWNlKC9gKC4qPylgL2csICc8Y29kZT4kMTwvY29kZT4nKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2hvcnRjb2RlUGFyYW1zKHBhcmFtczogc3RyaW5nKTogeyBzcmM/OiBzdHJpbmc7IG9wdGlvbnM6IFNob3J0Y29kZUNvbmZpZyB9IHtcclxuXHRwYXJhbXMgPSBwYXJhbXMudHJpbSgpO1xyXG5cdFxyXG5cdGNvbnN0IG1hdGNoID0gcGFyYW1zLm1hdGNoKC9eW1wiJ10oW15cIiddKylbXCInXSg/OlxccyosXFxzKihcXHsuKlxcfSkpPyQvKTtcclxuXHRcclxuXHRpZiAoIW1hdGNoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1hdCBkZSBwYXJhbVx1MDBFOHRyZXMgaW52YWxpZGUnKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHNyYyA9IG1hdGNoWzFdO1xyXG5cdGxldCBvcHRpb25zOiBTaG9ydGNvZGVDb25maWcgPSB7fTtcclxuXHJcblx0aWYgKG1hdGNoWzJdKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjbGVhbk9wdGlvbnMgPSBtYXRjaFsyXS5yZXBsYWNlKC8sKFxccypbfVxcXV0pL2csICckMScpO1xyXG5cdFx0XHRvcHRpb25zID0gRnVuY3Rpb24oYFwidXNlIHN0cmljdFwiOyByZXR1cm4gKCR7Y2xlYW5PcHRpb25zfSlgKSgpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ0VycmV1ciBwYXJzaW5nIG9wdGlvbnM6JywgZSk7XHJcblx0XHRcdG9wdGlvbnMgPSB7fTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB7IHNyYywgb3B0aW9ucyB9O1xyXG59IiwgImltcG9ydCB7IFNob3J0Y29kZUNvbmZpZywgU2hvcnRjb2RlVHlwZSB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgYXBwbHlTdHlsZXMsIGNsZWFuQWx0LCByZW5kZXJNYXJrZG93biB9IGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCB7IFNVUFBPUlRFRF9TSE9SVENPREVfVFlQRVMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hvcnRjb2RlUmVuZGVyZXIge1xyXG5cdHByaXZhdGUgZ2xvYmFsRWxlbWVudENvdW50ZXIgPSAwO1xyXG5cclxuXHRyZW5kZXIodHlwZTogc3RyaW5nLCBwYXJhbXM6IHsgc3JjPzogc3RyaW5nOyBvcHRpb25zOiBTaG9ydGNvZGVDb25maWcgfSk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcblx0XHRpZiAoIVNVUFBPUlRFRF9TSE9SVENPREVfVFlQRVMuaW5jbHVkZXModHlwZSBhcyBTaG9ydGNvZGVUeXBlKSkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oYFR5cGUgZGUgc2hvcnRjb2RlIG5vbiBzdXBwb3J0XHUwMEU5OiAke3R5cGV9YCk7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHsgc3JjLCBvcHRpb25zID0ge30gfSA9IHBhcmFtcztcclxuXHRcdGNvbnN0IGNvbmZpZyA9IHsgc3JjLCAuLi5vcHRpb25zIH07XHJcblxyXG5cdFx0c3dpdGNoICh0eXBlIGFzIFNob3J0Y29kZVR5cGUpIHtcclxuXHRcdFx0Y2FzZSAnaW1hZ2UnOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUltYWdlRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRjYXNlICdncmlkJzpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVHcmlkRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRjYXNlICd2aWRlbyc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlVmlkZW9FbGVtZW50KGNvbmZpZyk7XHJcblx0XHRcdGNhc2UgJ2ZpZ3VyZSc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRmlndXJlRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRjYXNlICdpbWFnZW5vdGUnOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUltYWdlTm90ZUVsZW1lbnQoY29uZmlnKTtcclxuXHRcdFx0Y2FzZSAnZnVsbHBhZ2UnOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUZ1bGxQYWdlRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVJbWFnZUVsZW1lbnQoY29uZmlnOiBTaG9ydGNvZGVDb25maWcpOiBIVE1MRWxlbWVudCB7XHJcblx0XHR0aGlzLmdsb2JhbEVsZW1lbnRDb3VudGVyKys7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZpZ3VyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ3VyZScpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGNvbmZpZy5pZCB8fCAnJyk7XHJcblx0XHRmaWd1cmUuc2V0QXR0cmlidXRlKCdkYXRhLXNyYycsIGNvbmZpZy5zcmMgfHwgJycpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1ncmlkJywgJ2ltYWdlJyk7XHJcblx0XHRmaWd1cmUuaWQgPSBgaW1hZ2UtJHt0aGlzLmdsb2JhbEVsZW1lbnRDb3VudGVyfWA7XHJcblx0XHRmaWd1cmUuY2xhc3NOYW1lID0gYGZpZ3VyZSBpbWFnZSR7Y29uZmlnLmNsYXNzID8gJyAnICsgY29uZmlnLmNsYXNzIDogJyd9YDtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblx0XHRpbWcuc3JjID0gY29uZmlnLnNyYyB8fCAnJztcclxuXHRcdGltZy5hbHQgPSBjbGVhbkFsdChjb25maWcuY2FwdGlvbiB8fCAnJyk7XHJcblx0XHRcclxuXHRcdGZpZ3VyZS5hcHBlbmRDaGlsZChpbWcpO1xyXG5cdFx0XHJcblx0XHRpZiAoY29uZmlnLmNhcHRpb24pIHtcclxuXHRcdFx0Y29uc3QgZmlnY2FwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ2NhcHRpb24nKTtcclxuXHRcdFx0ZmlnY2FwdGlvbi5jbGFzc05hbWUgPSAnZmlnY2FwdGlvbic7XHJcblx0XHRcdGZpZ2NhcHRpb24uaW5uZXJIVE1MID0gcmVuZGVyTWFya2Rvd24oY29uZmlnLmNhcHRpb24pO1xyXG5cdFx0XHRmaWd1cmUuYXBwZW5kQ2hpbGQoZmlnY2FwdGlvbik7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGFwcGx5U3R5bGVzKGZpZ3VyZSwgY29uZmlnKTtcclxuXHRcdHJldHVybiBmaWd1cmU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUdyaWRFbGVtZW50KGNvbmZpZzogU2hvcnRjb2RlQ29uZmlnKTogSFRNTEVsZW1lbnQge1xyXG5cdFx0dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcisrO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBjb25maWcuaWQgfHwgJycpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ3JpZCcsICdpbWFnZScpO1xyXG5cdFx0ZmlndXJlLmlkID0gYGZpZ3VyZS0ke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdGZpZ3VyZS5jbGFzc05hbWUgPSBjb25maWcuY2xhc3MgfHwgJyc7XHJcblx0XHRcclxuXHRcdGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdFx0aW1nLnNyYyA9IGNvbmZpZy5zcmMgfHwgJyc7XHJcblx0XHRpbWcuYWx0ID0gY2xlYW5BbHQoY29uZmlnLmNhcHRpb24gfHwgJycpO1xyXG5cdFx0XHJcblx0XHRmaWd1cmUuYXBwZW5kQ2hpbGQoaW1nKTtcclxuXHRcdGFwcGx5U3R5bGVzKGZpZ3VyZSwgY29uZmlnKTtcclxuXHRcdFxyXG5cdFx0aWYgKGNvbmZpZy5jYXB0aW9uKSB7XHJcblx0XHRcdGNvbnN0IGZpZ2NhcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWdjYXB0aW9uJyk7XHJcblx0XHRcdGZpZ2NhcHRpb24uY2xhc3NOYW1lID0gYGZpZ2NhcHRpb24gZmlnY2FwdGlvbi0ke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdFx0ZmlnY2FwdGlvbi5pbm5lckhUTUwgPSByZW5kZXJNYXJrZG93bihjb25maWcuY2FwdGlvbik7XHJcblx0XHRcdGFwcGx5U3R5bGVzKGZpZ2NhcHRpb24sIGNvbmZpZyk7XHJcblx0XHRcdFxyXG5cdFx0XHRjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdHdyYXBwZXIuYXBwZW5kQ2hpbGQoZmlndXJlKTtcclxuXHRcdFx0d3JhcHBlci5hcHBlbmRDaGlsZChmaWdjYXB0aW9uKTtcclxuXHRcdFx0cmV0dXJuIHdyYXBwZXI7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiBmaWd1cmU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZVZpZGVvRWxlbWVudChjb25maWc6IFNob3J0Y29kZUNvbmZpZyk6IEhUTUxFbGVtZW50IHtcclxuXHRcdGNvbnN0IGZpZ3VyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ3VyZScpO1xyXG5cdFx0ZmlndXJlLmNsYXNzTmFtZSA9IGB2aWRlbyR7Y29uZmlnLmNsYXNzID8gJyAnICsgY29uZmlnLmNsYXNzIDogJyd9YDtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ3JpZCcsICdjb250ZW50Jyk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcclxuXHRcdHZpZGVvLmNvbnRyb2xzID0gdHJ1ZTtcclxuXHRcdGlmIChjb25maWcucG9zdGVyKSB7XHJcblx0XHRcdHZpZGVvLnBvc3RlciA9IGNvbmZpZy5wb3N0ZXI7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xyXG5cdFx0c291cmNlLnNyYyA9IGNvbmZpZy5zcmMgfHwgJyc7XHJcblx0XHR2aWRlby5hcHBlbmRDaGlsZChzb3VyY2UpO1xyXG5cdFx0XHJcblx0XHRmaWd1cmUuYXBwZW5kQ2hpbGQodmlkZW8pO1xyXG5cdFx0XHJcblx0XHRpZiAoY29uZmlnLmNhcHRpb24pIHtcclxuXHRcdFx0Y29uc3QgZmlnY2FwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ2NhcHRpb24nKTtcclxuXHRcdFx0ZmlnY2FwdGlvbi5jbGFzc05hbWUgPSAnZmlnY2FwdGlvbic7XHJcblx0XHRcdGZpZ2NhcHRpb24uaW5uZXJIVE1MID0gcmVuZGVyTWFya2Rvd24oY29uZmlnLmNhcHRpb24pO1xyXG5cdFx0XHRmaWd1cmUuYXBwZW5kQ2hpbGQoZmlnY2FwdGlvbik7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGFwcGx5U3R5bGVzKGZpZ3VyZSwgY29uZmlnKTtcclxuXHRcdHJldHVybiBmaWd1cmU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUZpZ3VyZUVsZW1lbnQoY29uZmlnOiBTaG9ydGNvZGVDb25maWcpOiBIVE1MRWxlbWVudCB7XHJcblx0XHR0aGlzLmdsb2JhbEVsZW1lbnRDb3VudGVyKys7XHJcblx0XHRcclxuXHRcdGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgc3BhbkNhbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRzcGFuQ2FsbC5jbGFzc05hbWUgPSAnc3Bhbk1vdmUgZmlndXJlX2NhbGwnO1xyXG5cdFx0c3BhbkNhbGwuaWQgPSBgZmlnLSR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn0tY2FsbGA7XHJcblx0XHRcclxuXHRcdGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRsaW5rLmhyZWYgPSBgI2ZpZy0ke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdGxpbmsudGV4dENvbnRlbnQgPSBgZmlnLiAke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdFxyXG5cdFx0c3BhbkNhbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1snKSk7XHJcblx0XHRzcGFuQ2FsbC5hcHBlbmRDaGlsZChsaW5rKTtcclxuXHRcdHNwYW5DYWxsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCddJykpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBzcGFuRmlnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0c3BhbkZpZy5jbGFzc05hbWUgPSBgZmlndXJlIGZpZ21vdmUke2NvbmZpZy5jbGFzcyA/ICcgJyArIGNvbmZpZy5jbGFzcyA6ICcnfWA7XHJcblx0XHRzcGFuRmlnLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdHNwYW5GaWcuc2V0QXR0cmlidXRlKCdkYXRhLWdyaWQnLCAnaW1hZ2UnKTtcclxuXHRcdHNwYW5GaWcuaWQgPSBgZmlnLSR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn1gO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGltZy5zcmMgPSBjb25maWcuc3JjIHx8ICcnO1xyXG5cdFx0aW1nLmFsdCA9IGNsZWFuQWx0KGNvbmZpZy5jYXB0aW9uIHx8ICcnKTtcclxuXHRcdFxyXG5cdFx0c3BhbkZpZy5hcHBlbmRDaGlsZChpbWcpO1xyXG5cdFx0XHJcblx0XHRpZiAoY29uZmlnLmNhcHRpb24pIHtcclxuXHRcdFx0Y29uc3QgY2FwdGlvblNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRcdGNhcHRpb25TcGFuLmNsYXNzTmFtZSA9ICdmaWdjYXB0aW9uJztcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IHJlZlNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRcdHJlZlNwYW4uY2xhc3NOYW1lID0gJ2ZpZ3VyZV9yZWZlcmVuY2UnO1xyXG5cdFx0XHRyZWZTcGFuLnRleHRDb250ZW50ID0gYFtmaWcuICR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn1dYDtcclxuXHRcdFx0XHJcblx0XHRcdGNhcHRpb25TcGFuLmFwcGVuZENoaWxkKHJlZlNwYW4pO1xyXG5cdFx0XHRjYXB0aW9uU3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTtcclxuXHRcdFx0Y2FwdGlvblNwYW4uaW5uZXJIVE1MICs9IHJlbmRlck1hcmtkb3duKGNvbmZpZy5jYXB0aW9uKTtcclxuXHRcdFx0XHJcblx0XHRcdHNwYW5GaWcuYXBwZW5kQ2hpbGQoY2FwdGlvblNwYW4pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRhcHBseVN0eWxlcyhzcGFuRmlnLCBjb25maWcpO1xyXG5cdFx0XHJcblx0XHR3cmFwcGVyLmFwcGVuZENoaWxkKHNwYW5DYWxsKTtcclxuXHRcdHdyYXBwZXIuYXBwZW5kQ2hpbGQoc3BhbkZpZyk7XHJcblx0XHRyZXR1cm4gd3JhcHBlcjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlSW1hZ2VOb3RlRWxlbWVudChjb25maWc6IFNob3J0Y29kZUNvbmZpZyk6IEhUTUxFbGVtZW50IHtcclxuXHRcdGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRzcGFuLmNsYXNzTmFtZSA9IGBpbWFnZW5vdGUgc2lkZU5vdGUke2NvbmZpZy5jbGFzcyA/ICcgJyArIGNvbmZpZy5jbGFzcyA6ICcnfWA7XHJcblx0XHRzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLWdyaWQnLCAnaW1hZ2UnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblx0XHRpbWcuc3JjID0gY29uZmlnLnNyYyB8fCAnJztcclxuXHRcdGltZy5hbHQgPSBjbGVhbkFsdChjb25maWcuY2FwdGlvbiB8fCAnJyk7XHJcblx0XHRcclxuXHRcdHNwYW4uYXBwZW5kQ2hpbGQoaW1nKTtcclxuXHRcdFxyXG5cdFx0aWYgKGNvbmZpZy5jYXB0aW9uKSB7XHJcblx0XHRcdGNvbnN0IGNhcHRpb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0XHRjYXB0aW9uU3Bhbi5jbGFzc05hbWUgPSAnY2FwdGlvbic7XHJcblx0XHRcdGNhcHRpb25TcGFuLmlubmVySFRNTCA9IHJlbmRlck1hcmtkb3duKGNvbmZpZy5jYXB0aW9uKTtcclxuXHRcdFx0c3Bhbi5hcHBlbmRDaGlsZChjYXB0aW9uU3Bhbik7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGFwcGx5U3R5bGVzKHNwYW4sIGNvbmZpZyk7XHJcblx0XHRyZXR1cm4gc3BhbjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlRnVsbFBhZ2VFbGVtZW50KGNvbmZpZzogU2hvcnRjb2RlQ29uZmlnKTogSFRNTEVsZW1lbnQge1xyXG5cdFx0dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcisrO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBjb25maWcuaWQgfHwgJycpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ3JpZCcsICdpbWFnZScpO1xyXG5cdFx0ZmlndXJlLmlkID0gYGZpZ3VyZS0ke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdGZpZ3VyZS5jbGFzc05hbWUgPSBgZnVsbC1wYWdlJHtjb25maWcuY2xhc3MgPyAnICcgKyBjb25maWcuY2xhc3MgOiAnJ31gO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGltZy5zcmMgPSBjb25maWcuc3JjIHx8ICcnO1xyXG5cdFx0aW1nLmFsdCA9IGNsZWFuQWx0KGNvbmZpZy5jYXB0aW9uIHx8ICcnKTtcclxuXHRcdFxyXG5cdFx0ZmlndXJlLmFwcGVuZENoaWxkKGltZyk7XHJcblx0XHRhcHBseVN0eWxlcyhmaWd1cmUsIGNvbmZpZyk7XHJcblx0XHRyZXR1cm4gZmlndXJlO1xyXG5cdH1cclxufSIsICJpbXBvcnQgeyBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0IH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBTaG9ydGNvZGVSZW5kZXJlciB9IGZyb20gJy4vc2hvcnRjb2RlLXJlbmRlcmVyJztcclxuaW1wb3J0IHsgcGFyc2VTaG9ydGNvZGVQYXJhbXMgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgeyBTSE9SVENPREVfUkVHRVggfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2hvcnRjb2RlUHJvY2Vzc29yIHtcclxuXHRwcml2YXRlIHJlbmRlcmVyOiBTaG9ydGNvZGVSZW5kZXJlcjtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnJlbmRlcmVyID0gbmV3IFNob3J0Y29kZVJlbmRlcmVyKCk7XHJcblx0fVxyXG5cclxuXHRwcm9jZXNzRWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCwgY29udGV4dDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkge1xyXG5cdFx0Y29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcclxuXHRcdFx0ZWxlbWVudCxcclxuXHRcdFx0Tm9kZUZpbHRlci5TSE9XX1RFWFQsXHJcblx0XHRcdG51bGxcclxuXHRcdCk7XHJcblxyXG5cdFx0Y29uc3QgdGV4dE5vZGVzOiBUZXh0W10gPSBbXTtcclxuXHRcdGxldCBub2RlO1xyXG5cdFx0d2hpbGUgKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkge1xyXG5cdFx0XHRpZiAobm9kZS50ZXh0Q29udGVudCAmJiB0aGlzLmNvbnRhaW5zU2hvcnRjb2RlKG5vZGUudGV4dENvbnRlbnQpKSB7XHJcblx0XHRcdFx0dGV4dE5vZGVzLnB1c2gobm9kZSBhcyBUZXh0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRleHROb2Rlcy5mb3JFYWNoKHRleHROb2RlID0+IHtcclxuXHRcdFx0dGhpcy5wcm9jZXNzVGV4dE5vZGUodGV4dE5vZGUpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvbnRhaW5zU2hvcnRjb2RlKHRleHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIC9cXHslLiolXFx9Ly50ZXN0KHRleHQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwcm9jZXNzVGV4dE5vZGUodGV4dE5vZGU6IFRleHQpIHtcclxuXHRcdGNvbnN0IHRleHQgPSB0ZXh0Tm9kZS50ZXh0Q29udGVudCB8fCAnJztcclxuXHRcdGNvbnN0IGZyYWdtZW50czogKHN0cmluZyB8IEhUTUxFbGVtZW50KVtdID0gW107XHJcblx0XHRsZXQgbGFzdEluZGV4ID0gMDtcclxuXHJcblx0XHRTSE9SVENPREVfUkVHRVgubGFzdEluZGV4ID0gMDtcclxuXHRcdFxyXG5cdFx0bGV0IG1hdGNoO1xyXG5cdFx0d2hpbGUgKChtYXRjaCA9IFNIT1JUQ09ERV9SRUdFWC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xyXG5cdFx0XHRpZiAobWF0Y2guaW5kZXggPiBsYXN0SW5kZXgpIHtcclxuXHRcdFx0XHRmcmFnbWVudHMucHVzaCh0ZXh0LnNsaWNlKGxhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgW2Z1bGxNYXRjaCwgdHlwZSwgcGFyYW1zXSA9IG1hdGNoO1xyXG5cdFx0XHRjb25zdCBodG1sRWxlbWVudCA9IHRoaXMucGFyc2VBbmRSZW5kZXIodHlwZSwgcGFyYW1zKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmIChodG1sRWxlbWVudCkge1xyXG5cdFx0XHRcdGZyYWdtZW50cy5wdXNoKGh0bWxFbGVtZW50KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmcmFnbWVudHMucHVzaChmdWxsTWF0Y2gpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsYXN0SW5kZXggPSBtYXRjaC5pbmRleCArIGZ1bGxNYXRjaC5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxhc3RJbmRleCA8IHRleHQubGVuZ3RoKSB7XHJcblx0XHRcdGZyYWdtZW50cy5wdXNoKHRleHQuc2xpY2UobGFzdEluZGV4KSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGZyYWdtZW50cy5sZW5ndGggPiAxIHx8IChmcmFnbWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBmcmFnbWVudHNbMF0gIT09ICdzdHJpbmcnKSkge1xyXG5cdFx0XHRjb25zdCBwYXJlbnROb2RlID0gdGV4dE5vZGUucGFyZW50Tm9kZTtcclxuXHRcdFx0aWYgKHBhcmVudE5vZGUpIHtcclxuXHRcdFx0XHRmcmFnbWVudHMuZm9yRWFjaChmcmFnbWVudCA9PiB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIGZyYWdtZW50ID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0XHRpZiAoZnJhZ21lbnQudHJpbSgpKSB7XHJcblx0XHRcdFx0XHRcdFx0cGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZnJhZ21lbnQpLCB0ZXh0Tm9kZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZyYWdtZW50LCB0ZXh0Tm9kZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0cGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZXh0Tm9kZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcGFyc2VBbmRSZW5kZXIodHlwZTogc3RyaW5nLCBwYXJhbXM6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBwYXJzZWRQYXJhbXMgPSBwYXJzZVNob3J0Y29kZVBhcmFtcyhwYXJhbXMpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZW5kZXJlci5yZW5kZXIodHlwZSwgcGFyc2VkUGFyYW1zKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBwYXJzaW5nIHNob3J0Y29kZTonLCBlcnJvcik7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBNEY7OztBQ0VyRixJQUFNLGtCQUFpQztBQUFBLEVBQzdDLEtBQUs7QUFBQSxFQUNMLFVBQVU7QUFBQSxFQUNWLE9BQU87QUFBQSxFQUNQLFlBQVk7QUFBQSxFQUNaLFVBQVU7QUFBQSxFQUNWLGFBQWE7QUFBQSxFQUNiLFdBQVc7QUFBQSxFQUNYLFdBQVc7QUFBQSxFQUNYLGNBQWM7QUFBQSxFQUNkLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFBQSxFQUNOLE1BQU07QUFDUDtBQUVPLElBQU0sa0JBQWtCO0FBRXhCLElBQU0sNEJBQTRCO0FBQUEsRUFDeEM7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNEOzs7QUN4Qk8sU0FBUyxlQUFlLFFBQWlEO0FBQy9FLFFBQU0sU0FBaUMsQ0FBQztBQUV4QyxTQUFPLFFBQVEsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLEtBQUssS0FBSyxNQUFNO0FBQ2hELFFBQUksZ0JBQWdCLEdBQUcsS0FBSyxVQUFVLFVBQWEsVUFBVSxRQUFRLFVBQVUsSUFBSTtBQUNsRixZQUFNLGFBQWEsT0FBTyxVQUFVLFdBQVcsTUFBTSxRQUFRLGdCQUFnQixFQUFFLElBQUk7QUFDbkYsYUFBTyxnQkFBZ0IsR0FBRyxDQUFDLElBQUk7QUFBQSxJQUNoQztBQUFBLEVBQ0Qs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
