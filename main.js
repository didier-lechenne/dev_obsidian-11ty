/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => Obsidian11tyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// src/utils/constants.ts
var CSS_VAR_MAPPING = {
  col: "--col",
  printCol: "--print-col",
  width: "--width",
  printWidth: "--print-width",
  printRow: "--print-row",
  printHeight: "--print-height",
  alignSelf: "--align-self",
  alignself: "--align-self",
  "align-self": "--align-self",
  imgX: "--img-x",
  imgY: "--img-y",
  imgW: "--img-w",
  page: "--pagedjs-full-page"
};
var SHORTCODE_REGEX = /\{%\s*(\w+)\s+([^%]+)\s*%\}/g;
var SUPPORTED_SHORTCODE_TYPES = [
  "image",
  "grid",
  "video",
  "figure",
  "imagenote",
  "fullpage"
];

// src/utils/helpers.ts
function generateStyles(config) {
  const styles = {};
  Object.entries(config).forEach(([key, value]) => {
    if (CSS_VAR_MAPPING[key] && value !== void 0 && value !== null && value !== "") {
      const cleanValue = typeof value === "string" ? value.replace(/^["']|["']$/g, "") : value;
      styles[CSS_VAR_MAPPING[key]] = cleanValue;
    }
  });
  return styles;
}
function applyStyles(element, config) {
  const styles = generateStyles(config);
  Object.entries(styles).forEach(([property, value]) => {
    element.style.setProperty(property, value);
  });
}
function cleanAlt(caption) {
  if (!caption) return "";
  return caption.replace(/\*([^*]+)\*/g, "$1").replace(/<[^>]+>/g, " ").replace(/&[^;]+;/g, " ").replace(/\s+/g, " ").trim();
}
function renderMarkdown(text) {
  return text.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>").replace(/\*(.*?)\*/g, "<em>$1</em>").replace(/`(.*?)`/g, "<code>$1</code>");
}
function parseShortcodeParams(params) {
  params = params.replace(/\s+/g, " ").trim();
  const match = params.match(/^["']([^"']+)["'](?:\s*,\s*(\{.*\}))?$/) || params.match(/^([^,\s]+)(?:\s*,\s*(\{.*\}))?$/);
  if (!match) {
    const commaIndex = params.indexOf(",");
    if (commaIndex > 0) {
      const src2 = params.substring(0, commaIndex).trim().replace(/^["']|["']$/g, "");
      const optionsStr = params.substring(commaIndex + 1).trim();
      let options2 = {};
      if (optionsStr.startsWith("{")) {
        try {
          const cleanOptions = optionsStr.replace(/,(\s*[}\]])/g, "$1");
          options2 = Function(`"use strict"; return (${cleanOptions})`)();
        } catch (e) {
          console.warn("Erreur parsing options:", e);
        }
      }
      return { src: src2, options: options2 };
    }
    throw new Error("Format de param\xE8tres invalide");
  }
  const src = match[1];
  let options = {};
  if (match[2]) {
    try {
      const cleanOptions = match[2].replace(/,(\s*[}\]])/g, "$1");
      options = Function(`"use strict"; return (${cleanOptions})`)();
    } catch (e) {
      console.warn("Erreur parsing options:", e);
      options = {};
    }
  }
  return { src, options };
}

// src/utils/shortcode-renderer.ts
var ShortcodeRenderer = class {
  constructor(app) {
    this.app = app;
    this.globalElementCounter = 0;
  }
  render(type, params) {
    if (!SUPPORTED_SHORTCODE_TYPES.includes(type)) {
      console.warn(`Type de shortcode non support\xE9: ${type}`);
      return null;
    }
    const { src, options = {} } = params;
    const config = { src: this.resolveImagePath(src), ...options };
    switch (type) {
      case "image":
        return this.createImageElement(config);
      case "grid":
        return this.createGridElement(config);
      case "video":
        return this.createVideoElement(config);
      case "figure":
        return this.createFigureElement(config);
      case "imagenote":
        return this.createImageNoteElement(config);
      case "fullpage":
        return this.createFullPageElement(config);
      default:
        return null;
    }
  }
  addEditOnClick(element) {
    element.style.cursor = "pointer";
    element.addEventListener("click", (event) => {
      event.preventDefault();
      event.stopPropagation();
      const editButton = this.findEditButton(element);
      if (editButton) {
        editButton.click();
      }
    });
  }
  findEditButton(element) {
    let parent = element.parentElement;
    while (parent) {
      const editButton = parent.querySelector(".edit-block-button");
      if (editButton) return editButton;
      parent = parent.parentElement;
    }
    return null;
  }
  resolveImagePath(src) {
    if (!src) return "";
    if (src.startsWith("http") || src.startsWith("app://")) {
      return src;
    }
    const file = this.app.metadataCache.getFirstLinkpathDest(src, "");
    if (file) {
      return this.app.vault.getResourcePath(file);
    }
    return `app://local/${encodeURIComponent(src)}`;
  }
  createImageElement(config) {
    this.globalElementCounter++;
    const figure = document.createElement("figure");
    figure.setAttribute("data-id", config.id || "");
    figure.setAttribute("data-src", config.src || "");
    figure.setAttribute("data-grid", "image");
    figure.id = `image-${this.globalElementCounter}`;
    figure.className = `figure image${config.class ? " " + config.class : ""}`;
    this.addEditOnClick(figure);
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    figure.appendChild(img);
    if (config.caption) {
      const figcaption = document.createElement("figcaption");
      figcaption.className = "figcaption";
      figcaption.innerHTML = renderMarkdown(config.caption);
      figure.appendChild(figcaption);
    }
    applyStyles(figure, config);
    return figure;
  }
  createGridElement(config) {
    this.globalElementCounter++;
    const figure = document.createElement("figure");
    figure.setAttribute("data-id", config.id || "");
    figure.setAttribute("data-src", config.src || "");
    figure.setAttribute("data-grid", "image");
    figure.id = `figure-${this.globalElementCounter}`;
    figure.className = config.class || "";
    this.addEditOnClick(figure);
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    figure.appendChild(img);
    applyStyles(figure, config);
    if (config.caption) {
      const figcaption = document.createElement("figcaption");
      figcaption.className = `figcaption figcaption-${this.globalElementCounter}`;
      figcaption.innerHTML = renderMarkdown(config.caption);
      applyStyles(figcaption, config);
      const wrapper = document.createElement("div");
      wrapper.appendChild(figure);
      wrapper.appendChild(figcaption);
      return wrapper;
    }
    return figure;
  }
  createVideoElement(config) {
    const figure = document.createElement("figure");
    figure.className = `video${config.class ? " " + config.class : ""}`;
    figure.setAttribute("data-grid", "content");
    this.addEditOnClick(figure);
    const video = document.createElement("video");
    video.controls = true;
    if (config.poster) {
      video.poster = config.poster;
    }
    const source = document.createElement("source");
    source.src = config.src || "";
    video.appendChild(source);
    figure.appendChild(video);
    if (config.caption) {
      const figcaption = document.createElement("figcaption");
      figcaption.className = "figcaption";
      figcaption.innerHTML = renderMarkdown(config.caption);
      figure.appendChild(figcaption);
    }
    applyStyles(figure, config);
    return figure;
  }
  createFigureElement(config) {
    this.globalElementCounter++;
    const wrapper = document.createElement("div");
    const spanCall = document.createElement("span");
    spanCall.className = "spanMove figure_call";
    spanCall.id = `fig-${this.globalElementCounter}-call`;
    const link = document.createElement("a");
    link.href = `#fig-${this.globalElementCounter}`;
    link.textContent = `fig. ${this.globalElementCounter}`;
    spanCall.appendChild(document.createTextNode("["));
    spanCall.appendChild(link);
    spanCall.appendChild(document.createTextNode("]"));
    const spanFig = document.createElement("span");
    spanFig.className = `figure figmove${config.class ? " " + config.class : ""}`;
    spanFig.setAttribute("data-src", config.src || "");
    spanFig.setAttribute("data-grid", "image");
    spanFig.id = `fig-${this.globalElementCounter}`;
    this.addEditOnClick(spanFig);
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    spanFig.appendChild(img);
    if (config.caption) {
      const captionSpan = document.createElement("span");
      captionSpan.className = "figcaption";
      const refSpan = document.createElement("span");
      refSpan.className = "figure_reference";
      refSpan.textContent = `[fig. ${this.globalElementCounter}]`;
      captionSpan.appendChild(refSpan);
      captionSpan.appendChild(document.createTextNode(" "));
      captionSpan.innerHTML += renderMarkdown(config.caption);
      spanFig.appendChild(captionSpan);
    }
    applyStyles(spanFig, config);
    wrapper.appendChild(spanCall);
    wrapper.appendChild(spanFig);
    return wrapper;
  }
  createImageNoteElement(config) {
    const span = document.createElement("span");
    span.className = `imagenote sideNote${config.class ? " " + config.class : ""}`;
    span.setAttribute("data-src", config.src || "");
    span.setAttribute("data-grid", "image");
    this.addEditOnClick(span);
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    span.appendChild(img);
    if (config.caption) {
      const captionSpan = document.createElement("span");
      captionSpan.className = "caption";
      captionSpan.innerHTML = renderMarkdown(config.caption);
      span.appendChild(captionSpan);
    }
    applyStyles(span, config);
    return span;
  }
  createFullPageElement(config) {
    this.globalElementCounter++;
    const figure = document.createElement("figure");
    figure.setAttribute("data-id", config.id || "");
    figure.setAttribute("data-src", config.src || "");
    figure.setAttribute("data-grid", "image");
    figure.id = `figure-${this.globalElementCounter}`;
    figure.className = `full-page${config.class ? " " + config.class : ""}`;
    this.addEditOnClick(figure);
    const img = document.createElement("img");
    img.src = config.src || "";
    img.alt = cleanAlt(config.caption || "");
    figure.appendChild(img);
    applyStyles(figure, config);
    return figure;
  }
};

// src/utils/shortcode-processor.ts
var ShortcodeProcessor = class {
  constructor(app) {
    this.app = app;
    this.renderer = new ShortcodeRenderer(app);
  }
  // Pour les code blocks (Live Preview)
  processCodeBlock(source, el, ctx) {
    const container = el.parentElement;
    let type = "";
    if (container && container.className) {
      const match = container.className.match(/block-language-(\w+)/);
      if (match) {
        type = match[1];
      }
    }
    const shortcodeMatch = source.match(/\{%\s*(\w+)\s+([^%]+)\s*%\}/);
    if (!shortcodeMatch) {
      console.warn("Format shortcode invalide dans code block");
      return;
    }
    const [, shortcodeType, params] = shortcodeMatch;
    try {
      const parsedParams = parseShortcodeParams(params);
      const htmlElement = this.renderer.render(shortcodeType, parsedParams);
      if (htmlElement) {
        el.appendChild(htmlElement);
      }
    } catch (error) {
      console.error("Erreur parsing shortcode:", error);
    }
  }
  processElement(element, context) {
    console.log("Processing element:", element);
    this.processNodeRecursively(element);
  }
  processNodeRecursively(node) {
    if (node.nodeType === Node.TEXT_NODE) {
      const textNode = node;
      if (textNode.textContent && this.containsShortcode(textNode.textContent)) {
        this.processTextNode(textNode);
        return;
      }
    }
    const children = Array.from(node.childNodes);
    children.forEach((child) => this.processNodeRecursively(child));
  }
  containsShortcode(text) {
    const hasShortcode = /\{%.*%\}/.test(text);
    if (hasShortcode) {
      console.log("Found shortcode in text:", text);
    }
    return hasShortcode;
  }
  processTextNode(textNode) {
    const text = textNode.textContent || "";
    const fragments = [];
    let lastIndex = 0;
    SHORTCODE_REGEX.lastIndex = 0;
    let match;
    while ((match = SHORTCODE_REGEX.exec(text)) !== null) {
      if (match.index > lastIndex) {
        fragments.push(text.slice(lastIndex, match.index));
      }
      const [fullMatch, type, params] = match;
      const htmlElement = this.parseAndRender(type, params);
      if (htmlElement) {
        fragments.push(htmlElement);
      } else {
        fragments.push(fullMatch);
      }
      lastIndex = match.index + fullMatch.length;
    }
    if (lastIndex < text.length) {
      fragments.push(text.slice(lastIndex));
    }
    if (fragments.length > 1 || fragments.length === 1 && typeof fragments[0] !== "string") {
      const parentNode = textNode.parentNode;
      if (parentNode) {
        fragments.forEach((fragment) => {
          if (typeof fragment === "string") {
            if (fragment.trim()) {
              parentNode.insertBefore(document.createTextNode(fragment), textNode);
            }
          } else {
            parentNode.insertBefore(fragment, textNode);
          }
        });
        parentNode.removeChild(textNode);
      }
    }
  }
  parseAndRender(type, params) {
    try {
      const parsedParams = parseShortcodeParams(params);
      return this.renderer.render(type, parsedParams);
    } catch (error) {
      console.error("Erreur parsing shortcode:", error);
      return null;
    }
  }
};

// src/main.ts
var Obsidian11tyPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.processor = new ShortcodeProcessor(this.app);
    this.registerMarkdownCodeBlockProcessor("image", this.processor.processCodeBlock.bind(this.processor));
    this.registerMarkdownCodeBlockProcessor("grid", this.processor.processCodeBlock.bind(this.processor));
    this.registerMarkdownCodeBlockProcessor("video", this.processor.processCodeBlock.bind(this.processor));
    this.registerMarkdownCodeBlockProcessor("figure", this.processor.processCodeBlock.bind(this.processor));
    this.registerMarkdownCodeBlockProcessor("imagenote", this.processor.processCodeBlock.bind(this.processor));
    this.registerMarkdownCodeBlockProcessor("fullpage", this.processor.processCodeBlock.bind(this.processor));
    this.registerMarkdownCodeBlockProcessor("11ty", this.processor.processCodeBlock.bind(this.processor));
    this.registerMarkdownPostProcessor((element, context) => {
      this.processor.processElement(element, context);
    });
  }
  onunload() {
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3V0aWxzL2NvbnN0YW50cy50cyIsICJzcmMvdXRpbHMvaGVscGVycy50cyIsICJzcmMvdXRpbHMvc2hvcnRjb2RlLXJlbmRlcmVyLnRzIiwgInNyYy91dGlscy9zaG9ydGNvZGUtcHJvY2Vzc29yLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFNob3J0Y29kZVByb2Nlc3NvciB9IGZyb20gJy4vdXRpbHMvc2hvcnRjb2RlLXByb2Nlc3Nvcic7XHJcblxyXG5cclxuLy8gaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xyXG4vLyBcdG15U2V0dGluZzogc3RyaW5nO1xyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNeVBsdWdpblNldHRpbmdzID0ge1xyXG4vLyBcdG15U2V0dGluZzogJ2RlZmF1bHQnXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2lkaWFuMTF0eVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0cHJpdmF0ZSBwcm9jZXNzb3I6IFNob3J0Y29kZVByb2Nlc3NvcjtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0dGhpcy5wcm9jZXNzb3IgPSBuZXcgU2hvcnRjb2RlUHJvY2Vzc29yKHRoaXMuYXBwKTtcclxuXHRcdFxyXG5cdFx0Ly8gQ29kZSBibG9ja3MgaW5kaXZpZHVlbHMgcG91ciBMaXZlIFByZXZpZXdcclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihcImltYWdlXCIsIHRoaXMucHJvY2Vzc29yLnByb2Nlc3NDb2RlQmxvY2suYmluZCh0aGlzLnByb2Nlc3NvcikpO1xyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwiZ3JpZFwiLCB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzQ29kZUJsb2NrLmJpbmQodGhpcy5wcm9jZXNzb3IpKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihcInZpZGVvXCIsIHRoaXMucHJvY2Vzc29yLnByb2Nlc3NDb2RlQmxvY2suYmluZCh0aGlzLnByb2Nlc3NvcikpO1xyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwiZmlndXJlXCIsIHRoaXMucHJvY2Vzc29yLnByb2Nlc3NDb2RlQmxvY2suYmluZCh0aGlzLnByb2Nlc3NvcikpO1xyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwiaW1hZ2Vub3RlXCIsIHRoaXMucHJvY2Vzc29yLnByb2Nlc3NDb2RlQmxvY2suYmluZCh0aGlzLnByb2Nlc3NvcikpO1xyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwiZnVsbHBhZ2VcIiwgdGhpcy5wcm9jZXNzb3IucHJvY2Vzc0NvZGVCbG9jay5iaW5kKHRoaXMucHJvY2Vzc29yKSk7XHJcblx0XHRcclxuXHRcdC8vIENvZGUgYmxvY2sgZ1x1MDBFOW5cdTAwRTlyaXF1ZSBwb3VyIHN5bnRheGUgMTF0eVxyXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwiMTF0eVwiLCB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzQ29kZUJsb2NrLmJpbmQodGhpcy5wcm9jZXNzb3IpKTtcclxuXHRcdFxyXG5cdFx0Ly8gUG9zdC1wcm9jZXNzb3IgcG91ciBSZWFkaW5nIFZpZXdcclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoKGVsZW1lbnQsIGNvbnRleHQpID0+IHtcclxuXHRcdFx0dGhpcy5wcm9jZXNzb3IucHJvY2Vzc0VsZW1lbnQoZWxlbWVudCwgY29udGV4dCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0Ly8gQ2xlYW51cCBhdXRvbWF0aXF1ZVxyXG5cdH1cclxufSIsICJpbXBvcnQgeyBDc3NWYXJNYXBwaW5nIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IENTU19WQVJfTUFQUElORzogQ3NzVmFyTWFwcGluZyA9IHtcclxuXHRjb2w6ICctLWNvbCcsXHJcblx0cHJpbnRDb2w6ICctLXByaW50LWNvbCcsXHJcblx0d2lkdGg6ICctLXdpZHRoJyxcclxuXHRwcmludFdpZHRoOiAnLS1wcmludC13aWR0aCcsXHJcblx0cHJpbnRSb3c6ICctLXByaW50LXJvdycsXHJcblx0cHJpbnRIZWlnaHQ6ICctLXByaW50LWhlaWdodCcsXHJcblx0YWxpZ25TZWxmOiAnLS1hbGlnbi1zZWxmJyxcclxuXHRhbGlnbnNlbGY6ICctLWFsaWduLXNlbGYnLFxyXG5cdCdhbGlnbi1zZWxmJzogJy0tYWxpZ24tc2VsZicsXHJcblx0aW1nWDogJy0taW1nLXgnLFxyXG5cdGltZ1k6ICctLWltZy15JyxcclxuXHRpbWdXOiAnLS1pbWctdycsXHJcblx0cGFnZTogJy0tcGFnZWRqcy1mdWxsLXBhZ2UnLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFNIT1JUQ09ERV9SRUdFWCA9IC9cXHslXFxzKihcXHcrKVxccysoW14lXSspXFxzKiVcXH0vZztcclxuXHJcbmV4cG9ydCBjb25zdCBTVVBQT1JURURfU0hPUlRDT0RFX1RZUEVTID0gW1xyXG5cdCdpbWFnZScsXHJcblx0J2dyaWQnLCBcclxuXHQndmlkZW8nLFxyXG5cdCdmaWd1cmUnLFxyXG5cdCdpbWFnZW5vdGUnLFxyXG5cdCdmdWxscGFnZSdcclxuXSBhcyBjb25zdDsiLCAiaW1wb3J0IHsgU2hvcnRjb2RlQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBDU1NfVkFSX01BUFBJTkcgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTdHlsZXMoY29uZmlnOiBTaG9ydGNvZGVDb25maWcpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcclxuXHRjb25zdCBzdHlsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuXHRcclxuXHRPYmplY3QuZW50cmllcyhjb25maWcpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG5cdFx0aWYgKENTU19WQVJfTUFQUElOR1trZXldICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09ICcnKSB7XHJcblx0XHRcdGNvbnN0IGNsZWFuVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCAnJykgOiB2YWx1ZTtcclxuXHRcdFx0c3R5bGVzW0NTU19WQVJfTUFQUElOR1trZXldXSA9IGNsZWFuVmFsdWU7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlcyhlbGVtZW50OiBIVE1MRWxlbWVudCwgY29uZmlnOiBTaG9ydGNvZGVDb25maWcpOiB2b2lkIHtcclxuXHRjb25zdCBzdHlsZXMgPSBnZW5lcmF0ZVN0eWxlcyhjb25maWcpO1xyXG5cdE9iamVjdC5lbnRyaWVzKHN0eWxlcykuZm9yRWFjaCgoW3Byb3BlcnR5LCB2YWx1ZV0pID0+IHtcclxuXHRcdGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcclxuXHR9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuQWx0KGNhcHRpb246IHN0cmluZyk6IHN0cmluZyB7XHJcblx0aWYgKCFjYXB0aW9uKSByZXR1cm4gJyc7XHJcblx0XHJcblx0cmV0dXJuIGNhcHRpb25cclxuXHRcdC5yZXBsYWNlKC9cXCooW14qXSspXFwqL2csICckMScpXHJcblx0XHQucmVwbGFjZSgvPFtePl0rPi9nLCAnICcpXHJcblx0XHQucmVwbGFjZSgvJlteO10rOy9nLCAnICcpXHJcblx0XHQucmVwbGFjZSgvXFxzKy9nLCAnICcpXHJcblx0XHQudHJpbSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTWFya2Rvd24odGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gdGV4dFxyXG5cdFx0LnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+JylcclxuXHRcdC5yZXBsYWNlKC9cXCooLio/KVxcKi9nLCAnPGVtPiQxPC9lbT4nKVxyXG5cdFx0LnJlcGxhY2UoL2AoLio/KWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTaG9ydGNvZGVQYXJhbXMocGFyYW1zOiBzdHJpbmcpOiB7IHNyYz86IHN0cmluZzsgb3B0aW9uczogU2hvcnRjb2RlQ29uZmlnIH0ge1xyXG5cdC8vIE5ldHRveWVyIGxlcyBzYXV0cyBkZSBsaWduZSBldCBlc3BhY2VzIG11bHRpcGxlc1xyXG5cdHBhcmFtcyA9IHBhcmFtcy5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xyXG5cdFxyXG5cdC8vIFJlZ2V4IHBsdXMgZmxleGlibGUgcG91ciBnXHUwMEU5cmVyIGRpZmZcdTAwRTlyZW50cyBmb3JtYXRzXHJcblx0Y29uc3QgbWF0Y2ggPSBwYXJhbXMubWF0Y2goL15bXCInXShbXlwiJ10rKVtcIiddKD86XFxzKixcXHMqKFxcey4qXFx9KSk/JC8pIHx8XHJcblx0ICAgICAgICAgICAgICBwYXJhbXMubWF0Y2goL14oW14sXFxzXSspKD86XFxzKixcXHMqKFxcey4qXFx9KSk/JC8pO1xyXG5cdFxyXG5cdGlmICghbWF0Y2gpIHtcclxuXHRcdC8vIEZhbGxiYWNrOiBwcmVuZHJlIHRvdXQgYXZhbnQgbGEgcHJlbWlcdTAwRThyZSB2aXJndWxlIGNvbW1lIHNyY1xyXG5cdFx0Y29uc3QgY29tbWFJbmRleCA9IHBhcmFtcy5pbmRleE9mKCcsJyk7XHJcblx0XHRpZiAoY29tbWFJbmRleCA+IDApIHtcclxuXHRcdFx0Y29uc3Qgc3JjID0gcGFyYW1zLnN1YnN0cmluZygwLCBjb21tYUluZGV4KS50cmltKCkucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCAnJyk7XHJcblx0XHRcdGNvbnN0IG9wdGlvbnNTdHIgPSBwYXJhbXMuc3Vic3RyaW5nKGNvbW1hSW5kZXggKyAxKS50cmltKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgb3B0aW9uczogU2hvcnRjb2RlQ29uZmlnID0ge307XHJcblx0XHRcdGlmIChvcHRpb25zU3RyLnN0YXJ0c1dpdGgoJ3snKSkge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRjb25zdCBjbGVhbk9wdGlvbnMgPSBvcHRpb25zU3RyLnJlcGxhY2UoLywoXFxzKlt9XFxdXSkvZywgJyQxJyk7XHJcblx0XHRcdFx0XHRvcHRpb25zID0gRnVuY3Rpb24oYFwidXNlIHN0cmljdFwiOyByZXR1cm4gKCR7Y2xlYW5PcHRpb25zfSlgKSgpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUud2FybignRXJyZXVyIHBhcnNpbmcgb3B0aW9uczonLCBlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiB7IHNyYywgb3B0aW9ucyB9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1hdCBkZSBwYXJhbVx1MDBFOHRyZXMgaW52YWxpZGUnKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHNyYyA9IG1hdGNoWzFdO1xyXG5cdGxldCBvcHRpb25zOiBTaG9ydGNvZGVDb25maWcgPSB7fTtcclxuXHJcblx0aWYgKG1hdGNoWzJdKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjbGVhbk9wdGlvbnMgPSBtYXRjaFsyXS5yZXBsYWNlKC8sKFxccypbfVxcXV0pL2csICckMScpO1xyXG5cdFx0XHRvcHRpb25zID0gRnVuY3Rpb24oYFwidXNlIHN0cmljdFwiOyByZXR1cm4gKCR7Y2xlYW5PcHRpb25zfSlgKSgpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ0VycmV1ciBwYXJzaW5nIG9wdGlvbnM6JywgZSk7XHJcblx0XHRcdG9wdGlvbnMgPSB7fTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB7IHNyYywgb3B0aW9ucyB9O1xyXG59IiwgImltcG9ydCB7IEFwcCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgU2hvcnRjb2RlQ29uZmlnLCBTaG9ydGNvZGVUeXBlIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBhcHBseVN0eWxlcywgY2xlYW5BbHQsIHJlbmRlck1hcmtkb3duIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuaW1wb3J0IHsgU1VQUE9SVEVEX1NIT1JUQ09ERV9UWVBFUyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaG9ydGNvZGVSZW5kZXJlciB7XHJcblx0cHJpdmF0ZSBnbG9iYWxFbGVtZW50Q291bnRlciA9IDA7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHApIHt9XHJcblxyXG5cdHJlbmRlcih0eXBlOiBzdHJpbmcsIHBhcmFtczogeyBzcmM/OiBzdHJpbmc7IG9wdGlvbnM6IFNob3J0Y29kZUNvbmZpZyB9KTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuXHRcdGlmICghU1VQUE9SVEVEX1NIT1JUQ09ERV9UWVBFUy5pbmNsdWRlcyh0eXBlIGFzIFNob3J0Y29kZVR5cGUpKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybihgVHlwZSBkZSBzaG9ydGNvZGUgbm9uIHN1cHBvcnRcdTAwRTk6ICR7dHlwZX1gKTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgeyBzcmMsIG9wdGlvbnMgPSB7fSB9ID0gcGFyYW1zO1xyXG5cdFx0Y29uc3QgY29uZmlnID0geyBzcmM6IHRoaXMucmVzb2x2ZUltYWdlUGF0aChzcmMpLCAuLi5vcHRpb25zIH07XHJcblxyXG5cdFx0c3dpdGNoICh0eXBlIGFzIFNob3J0Y29kZVR5cGUpIHtcclxuXHRcdFx0Y2FzZSAnaW1hZ2UnOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUltYWdlRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRjYXNlICdncmlkJzpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVHcmlkRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRjYXNlICd2aWRlbyc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlVmlkZW9FbGVtZW50KGNvbmZpZyk7XHJcblx0XHRcdGNhc2UgJ2ZpZ3VyZSc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRmlndXJlRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRjYXNlICdpbWFnZW5vdGUnOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUltYWdlTm90ZUVsZW1lbnQoY29uZmlnKTtcclxuXHRcdFx0Y2FzZSAnZnVsbHBhZ2UnOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUZ1bGxQYWdlRWxlbWVudChjb25maWcpO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRFZGl0T25DbGljayhlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG5cdFx0ZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcblx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3QgZWRpdEJ1dHRvbiA9IHRoaXMuZmluZEVkaXRCdXR0b24oZWxlbWVudCk7XHJcblx0XHRcdGlmIChlZGl0QnV0dG9uKSB7XHJcblx0XHRcdFx0ZWRpdEJ1dHRvbi5jbGljaygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZmluZEVkaXRCdXR0b24oZWxlbWVudDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG5cdFx0bGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuXHRcdHdoaWxlIChwYXJlbnQpIHtcclxuXHRcdFx0Y29uc3QgZWRpdEJ1dHRvbiA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1ibG9jay1idXR0b24nKSBhcyBIVE1MRWxlbWVudDtcclxuXHRcdFx0aWYgKGVkaXRCdXR0b24pIHJldHVybiBlZGl0QnV0dG9uO1xyXG5cdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZXNvbHZlSW1hZ2VQYXRoKHNyYzogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcclxuXHRcdGlmICghc3JjKSByZXR1cm4gJyc7XHJcblx0XHRcclxuXHRcdC8vIFNpIGMnZXN0IGRcdTAwRTlqXHUwMEUwIHVuZSBVUkwgY29tcGxcdTAwRTh0ZSwgb24gbGEgZ2FyZGVcclxuXHRcdGlmIChzcmMuc3RhcnRzV2l0aCgnaHR0cCcpIHx8IHNyYy5zdGFydHNXaXRoKCdhcHA6Ly8nKSkge1xyXG5cdFx0XHRyZXR1cm4gc3JjO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBVdGlsaXNlciBsJ0FQSSBPYnNpZGlhbiBwb3VyIHJcdTAwRTlzb3VkcmUgbGUgY2hlbWluXHJcblx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChzcmMsICcnKTtcclxuXHRcdGlmIChmaWxlKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmFwcC52YXVsdC5nZXRSZXNvdXJjZVBhdGgoZmlsZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIEZhbGxiYWNrXHJcblx0XHRyZXR1cm4gYGFwcDovL2xvY2FsLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNyYyl9YDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlSW1hZ2VFbGVtZW50KGNvbmZpZzogU2hvcnRjb2RlQ29uZmlnKTogSFRNTEVsZW1lbnQge1xyXG5cdFx0dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcisrO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBjb25maWcuaWQgfHwgJycpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ3JpZCcsICdpbWFnZScpO1xyXG5cdFx0ZmlndXJlLmlkID0gYGltYWdlLSR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn1gO1xyXG5cdFx0ZmlndXJlLmNsYXNzTmFtZSA9IGBmaWd1cmUgaW1hZ2Uke2NvbmZpZy5jbGFzcyA/ICcgJyArIGNvbmZpZy5jbGFzcyA6ICcnfWA7XHJcblx0XHRcclxuXHRcdC8vIEFqb3V0ZXIgbGUgbGlzdGVuZXIgZGUgY2xpYyBwb3VyIFx1MDBFOWRpdGlvblxyXG5cdFx0dGhpcy5hZGRFZGl0T25DbGljayhmaWd1cmUpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGltZy5zcmMgPSBjb25maWcuc3JjIHx8ICcnO1xyXG5cdFx0aW1nLmFsdCA9IGNsZWFuQWx0KGNvbmZpZy5jYXB0aW9uIHx8ICcnKTtcclxuXHRcdFxyXG5cdFx0ZmlndXJlLmFwcGVuZENoaWxkKGltZyk7XHJcblx0XHRcclxuXHRcdGlmIChjb25maWcuY2FwdGlvbikge1xyXG5cdFx0XHRjb25zdCBmaWdjYXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmlnY2FwdGlvbicpO1xyXG5cdFx0XHRmaWdjYXB0aW9uLmNsYXNzTmFtZSA9ICdmaWdjYXB0aW9uJztcclxuXHRcdFx0ZmlnY2FwdGlvbi5pbm5lckhUTUwgPSByZW5kZXJNYXJrZG93bihjb25maWcuY2FwdGlvbik7XHJcblx0XHRcdGZpZ3VyZS5hcHBlbmRDaGlsZChmaWdjYXB0aW9uKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0YXBwbHlTdHlsZXMoZmlndXJlLCBjb25maWcpO1xyXG5cdFx0cmV0dXJuIGZpZ3VyZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlR3JpZEVsZW1lbnQoY29uZmlnOiBTaG9ydGNvZGVDb25maWcpOiBIVE1MRWxlbWVudCB7XHJcblx0XHR0aGlzLmdsb2JhbEVsZW1lbnRDb3VudGVyKys7XHJcblx0XHRcclxuXHRcdGNvbnN0IGZpZ3VyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ3VyZScpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGNvbmZpZy5pZCB8fCAnJyk7XHJcblx0XHRmaWd1cmUuc2V0QXR0cmlidXRlKCdkYXRhLXNyYycsIGNvbmZpZy5zcmMgfHwgJycpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1ncmlkJywgJ2ltYWdlJyk7XHJcblx0XHRmaWd1cmUuaWQgPSBgZmlndXJlLSR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn1gO1xyXG5cdFx0ZmlndXJlLmNsYXNzTmFtZSA9IGNvbmZpZy5jbGFzcyB8fCAnJztcclxuXHRcdFxyXG5cdFx0dGhpcy5hZGRFZGl0T25DbGljayhmaWd1cmUpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGltZy5zcmMgPSBjb25maWcuc3JjIHx8ICcnO1xyXG5cdFx0aW1nLmFsdCA9IGNsZWFuQWx0KGNvbmZpZy5jYXB0aW9uIHx8ICcnKTtcclxuXHRcdFxyXG5cdFx0ZmlndXJlLmFwcGVuZENoaWxkKGltZyk7XHJcblx0XHRhcHBseVN0eWxlcyhmaWd1cmUsIGNvbmZpZyk7XHJcblx0XHRcclxuXHRcdGlmIChjb25maWcuY2FwdGlvbikge1xyXG5cdFx0XHRjb25zdCBmaWdjYXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmlnY2FwdGlvbicpO1xyXG5cdFx0XHRmaWdjYXB0aW9uLmNsYXNzTmFtZSA9IGBmaWdjYXB0aW9uIGZpZ2NhcHRpb24tJHt0aGlzLmdsb2JhbEVsZW1lbnRDb3VudGVyfWA7XHJcblx0XHRcdGZpZ2NhcHRpb24uaW5uZXJIVE1MID0gcmVuZGVyTWFya2Rvd24oY29uZmlnLmNhcHRpb24pO1xyXG5cdFx0XHRhcHBseVN0eWxlcyhmaWdjYXB0aW9uLCBjb25maWcpO1xyXG5cdFx0XHRcclxuXHRcdFx0Y29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHR3cmFwcGVyLmFwcGVuZENoaWxkKGZpZ3VyZSk7XHJcblx0XHRcdHdyYXBwZXIuYXBwZW5kQ2hpbGQoZmlnY2FwdGlvbik7XHJcblx0XHRcdHJldHVybiB3cmFwcGVyO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRyZXR1cm4gZmlndXJlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVWaWRlb0VsZW1lbnQoY29uZmlnOiBTaG9ydGNvZGVDb25maWcpOiBIVE1MRWxlbWVudCB7XHJcblx0XHRjb25zdCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKTtcclxuXHRcdGZpZ3VyZS5jbGFzc05hbWUgPSBgdmlkZW8ke2NvbmZpZy5jbGFzcyA/ICcgJyArIGNvbmZpZy5jbGFzcyA6ICcnfWA7XHJcblx0XHRmaWd1cmUuc2V0QXR0cmlidXRlKCdkYXRhLWdyaWQnLCAnY29udGVudCcpO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZEVkaXRPbkNsaWNrKGZpZ3VyZSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcclxuXHRcdHZpZGVvLmNvbnRyb2xzID0gdHJ1ZTtcclxuXHRcdGlmIChjb25maWcucG9zdGVyKSB7XHJcblx0XHRcdHZpZGVvLnBvc3RlciA9IGNvbmZpZy5wb3N0ZXI7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xyXG5cdFx0c291cmNlLnNyYyA9IGNvbmZpZy5zcmMgfHwgJyc7XHJcblx0XHR2aWRlby5hcHBlbmRDaGlsZChzb3VyY2UpO1xyXG5cdFx0XHJcblx0XHRmaWd1cmUuYXBwZW5kQ2hpbGQodmlkZW8pO1xyXG5cdFx0XHJcblx0XHRpZiAoY29uZmlnLmNhcHRpb24pIHtcclxuXHRcdFx0Y29uc3QgZmlnY2FwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ2NhcHRpb24nKTtcclxuXHRcdFx0ZmlnY2FwdGlvbi5jbGFzc05hbWUgPSAnZmlnY2FwdGlvbic7XHJcblx0XHRcdGZpZ2NhcHRpb24uaW5uZXJIVE1MID0gcmVuZGVyTWFya2Rvd24oY29uZmlnLmNhcHRpb24pO1xyXG5cdFx0XHRmaWd1cmUuYXBwZW5kQ2hpbGQoZmlnY2FwdGlvbik7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGFwcGx5U3R5bGVzKGZpZ3VyZSwgY29uZmlnKTtcclxuXHRcdHJldHVybiBmaWd1cmU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUZpZ3VyZUVsZW1lbnQoY29uZmlnOiBTaG9ydGNvZGVDb25maWcpOiBIVE1MRWxlbWVudCB7XHJcblx0XHR0aGlzLmdsb2JhbEVsZW1lbnRDb3VudGVyKys7XHJcblx0XHRcclxuXHRcdGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFxyXG5cdFx0Y29uc3Qgc3BhbkNhbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRzcGFuQ2FsbC5jbGFzc05hbWUgPSAnc3Bhbk1vdmUgZmlndXJlX2NhbGwnO1xyXG5cdFx0c3BhbkNhbGwuaWQgPSBgZmlnLSR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn0tY2FsbGA7XHJcblx0XHRcclxuXHRcdGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0XHRsaW5rLmhyZWYgPSBgI2ZpZy0ke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdGxpbmsudGV4dENvbnRlbnQgPSBgZmlnLiAke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdFxyXG5cdFx0c3BhbkNhbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1snKSk7XHJcblx0XHRzcGFuQ2FsbC5hcHBlbmRDaGlsZChsaW5rKTtcclxuXHRcdHNwYW5DYWxsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCddJykpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBzcGFuRmlnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0c3BhbkZpZy5jbGFzc05hbWUgPSBgZmlndXJlIGZpZ21vdmUke2NvbmZpZy5jbGFzcyA/ICcgJyArIGNvbmZpZy5jbGFzcyA6ICcnfWA7XHJcblx0XHRzcGFuRmlnLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdHNwYW5GaWcuc2V0QXR0cmlidXRlKCdkYXRhLWdyaWQnLCAnaW1hZ2UnKTtcclxuXHRcdHNwYW5GaWcuaWQgPSBgZmlnLSR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn1gO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZEVkaXRPbkNsaWNrKHNwYW5GaWcpO1xyXG5cdFx0XHJcblx0XHRjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRcdGltZy5zcmMgPSBjb25maWcuc3JjIHx8ICcnO1xyXG5cdFx0aW1nLmFsdCA9IGNsZWFuQWx0KGNvbmZpZy5jYXB0aW9uIHx8ICcnKTtcclxuXHRcdFxyXG5cdFx0c3BhbkZpZy5hcHBlbmRDaGlsZChpbWcpO1xyXG5cdFx0XHJcblx0XHRpZiAoY29uZmlnLmNhcHRpb24pIHtcclxuXHRcdFx0Y29uc3QgY2FwdGlvblNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRcdGNhcHRpb25TcGFuLmNsYXNzTmFtZSA9ICdmaWdjYXB0aW9uJztcclxuXHRcdFx0XHJcblx0XHRcdGNvbnN0IHJlZlNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRcdHJlZlNwYW4uY2xhc3NOYW1lID0gJ2ZpZ3VyZV9yZWZlcmVuY2UnO1xyXG5cdFx0XHRyZWZTcGFuLnRleHRDb250ZW50ID0gYFtmaWcuICR7dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcn1dYDtcclxuXHRcdFx0XHJcblx0XHRcdGNhcHRpb25TcGFuLmFwcGVuZENoaWxkKHJlZlNwYW4pO1xyXG5cdFx0XHRjYXB0aW9uU3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTtcclxuXHRcdFx0Y2FwdGlvblNwYW4uaW5uZXJIVE1MICs9IHJlbmRlck1hcmtkb3duKGNvbmZpZy5jYXB0aW9uKTtcclxuXHRcdFx0XHJcblx0XHRcdHNwYW5GaWcuYXBwZW5kQ2hpbGQoY2FwdGlvblNwYW4pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRhcHBseVN0eWxlcyhzcGFuRmlnLCBjb25maWcpO1xyXG5cdFx0XHJcblx0XHR3cmFwcGVyLmFwcGVuZENoaWxkKHNwYW5DYWxsKTtcclxuXHRcdHdyYXBwZXIuYXBwZW5kQ2hpbGQoc3BhbkZpZyk7XHJcblx0XHRyZXR1cm4gd3JhcHBlcjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlSW1hZ2VOb3RlRWxlbWVudChjb25maWc6IFNob3J0Y29kZUNvbmZpZyk6IEhUTUxFbGVtZW50IHtcclxuXHRcdGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0XHRzcGFuLmNsYXNzTmFtZSA9IGBpbWFnZW5vdGUgc2lkZU5vdGUke2NvbmZpZy5jbGFzcyA/ICcgJyArIGNvbmZpZy5jbGFzcyA6ICcnfWA7XHJcblx0XHRzcGFuLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdHNwYW4uc2V0QXR0cmlidXRlKCdkYXRhLWdyaWQnLCAnaW1hZ2UnKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5hZGRFZGl0T25DbGljayhzcGFuKTtcclxuXHRcdFxyXG5cdFx0Y29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblx0XHRpbWcuc3JjID0gY29uZmlnLnNyYyB8fCAnJztcclxuXHRcdGltZy5hbHQgPSBjbGVhbkFsdChjb25maWcuY2FwdGlvbiB8fCAnJyk7XHJcblx0XHRcclxuXHRcdHNwYW4uYXBwZW5kQ2hpbGQoaW1nKTtcclxuXHRcdFxyXG5cdFx0aWYgKGNvbmZpZy5jYXB0aW9uKSB7XHJcblx0XHRcdGNvbnN0IGNhcHRpb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0XHRjYXB0aW9uU3Bhbi5jbGFzc05hbWUgPSAnY2FwdGlvbic7XHJcblx0XHRcdGNhcHRpb25TcGFuLmlubmVySFRNTCA9IHJlbmRlck1hcmtkb3duKGNvbmZpZy5jYXB0aW9uKTtcclxuXHRcdFx0c3Bhbi5hcHBlbmRDaGlsZChjYXB0aW9uU3Bhbik7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGFwcGx5U3R5bGVzKHNwYW4sIGNvbmZpZyk7XHJcblx0XHRyZXR1cm4gc3BhbjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlRnVsbFBhZ2VFbGVtZW50KGNvbmZpZzogU2hvcnRjb2RlQ29uZmlnKTogSFRNTEVsZW1lbnQge1xyXG5cdFx0dGhpcy5nbG9iYWxFbGVtZW50Q291bnRlcisrO1xyXG5cdFx0XHJcblx0XHRjb25zdCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBjb25maWcuaWQgfHwgJycpO1xyXG5cdFx0ZmlndXJlLnNldEF0dHJpYnV0ZSgnZGF0YS1zcmMnLCBjb25maWcuc3JjIHx8ICcnKTtcclxuXHRcdGZpZ3VyZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZ3JpZCcsICdpbWFnZScpO1xyXG5cdFx0ZmlndXJlLmlkID0gYGZpZ3VyZS0ke3RoaXMuZ2xvYmFsRWxlbWVudENvdW50ZXJ9YDtcclxuXHRcdGZpZ3VyZS5jbGFzc05hbWUgPSBgZnVsbC1wYWdlJHtjb25maWcuY2xhc3MgPyAnICcgKyBjb25maWcuY2xhc3MgOiAnJ31gO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZEVkaXRPbkNsaWNrKGZpZ3VyZSk7XHJcblx0XHRcclxuXHRcdGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdFx0aW1nLnNyYyA9IGNvbmZpZy5zcmMgfHwgJyc7XHJcblx0XHRpbWcuYWx0ID0gY2xlYW5BbHQoY29uZmlnLmNhcHRpb24gfHwgJycpO1xyXG5cdFx0XHJcblx0XHRmaWd1cmUuYXBwZW5kQ2hpbGQoaW1nKTtcclxuXHRcdGFwcGx5U3R5bGVzKGZpZ3VyZSwgY29uZmlnKTtcclxuXHRcdHJldHVybiBmaWd1cmU7XHJcblx0fVxyXG59IiwgImltcG9ydCB7IEFwcCwgTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgU2hvcnRjb2RlUmVuZGVyZXIgfSBmcm9tICcuL3Nob3J0Y29kZS1yZW5kZXJlcic7XHJcbmltcG9ydCB7IHBhcnNlU2hvcnRjb2RlUGFyYW1zIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuaW1wb3J0IHsgU0hPUlRDT0RFX1JFR0VYIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNob3J0Y29kZVByb2Nlc3NvciB7XHJcblx0cHJpdmF0ZSByZW5kZXJlcjogU2hvcnRjb2RlUmVuZGVyZXI7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHApIHtcclxuXHRcdHRoaXMucmVuZGVyZXIgPSBuZXcgU2hvcnRjb2RlUmVuZGVyZXIoYXBwKTtcclxuXHR9XHJcblxyXG5cdC8vIFBvdXIgbGVzIGNvZGUgYmxvY2tzIChMaXZlIFByZXZpZXcpXHJcblx0cHJvY2Vzc0NvZGVCbG9jayhzb3VyY2U6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50LCBjdHg6IGFueSk6IHZvaWQge1xyXG5cdFx0Ly8gRFx1MDBFOXRlY3RlciBsZSB0eXBlIGRlcHVpcyBsJ1x1MDBFOWxcdTAwRTltZW50IHBhcmVudCBvdSBsZSBjb250ZW51XHJcblx0XHRjb25zdCBjb250YWluZXIgPSBlbC5wYXJlbnRFbGVtZW50O1xyXG5cdFx0bGV0IHR5cGUgPSAnJztcclxuXHRcdFxyXG5cdFx0Ly8gQ2FzIDE6IGJsb2NrIHNwXHUwMEU5Y2lmaXF1ZSAoaW1hZ2UsIGdyaWQsIGV0Yy4pXHJcblx0XHRpZiAoY29udGFpbmVyICYmIGNvbnRhaW5lci5jbGFzc05hbWUpIHtcclxuXHRcdFx0Y29uc3QgbWF0Y2ggPSBjb250YWluZXIuY2xhc3NOYW1lLm1hdGNoKC9ibG9jay1sYW5ndWFnZS0oXFx3KykvKTtcclxuXHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0dHlwZSA9IG1hdGNoWzFdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHJcblx0XHRcclxuXHRcdC8vIGJsb2NrIHNob3J0Y29kZSBhdmVjIHN5bnRheGUgMTF0eVxyXG5cdFx0Y29uc3Qgc2hvcnRjb2RlTWF0Y2ggPSBzb3VyY2UubWF0Y2goL1xceyVcXHMqKFxcdyspXFxzKyhbXiVdKylcXHMqJVxcfS8pO1xyXG5cdFx0aWYgKCFzaG9ydGNvZGVNYXRjaCkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oJ0Zvcm1hdCBzaG9ydGNvZGUgaW52YWxpZGUgZGFucyBjb2RlIGJsb2NrJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Y29uc3QgWywgc2hvcnRjb2RlVHlwZSwgcGFyYW1zXSA9IHNob3J0Y29kZU1hdGNoO1xyXG5cdFx0XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBwYXJzZWRQYXJhbXMgPSBwYXJzZVNob3J0Y29kZVBhcmFtcyhwYXJhbXMpO1xyXG5cdFx0XHRjb25zdCBodG1sRWxlbWVudCA9IHRoaXMucmVuZGVyZXIucmVuZGVyKHNob3J0Y29kZVR5cGUsIHBhcnNlZFBhcmFtcyk7XHJcblx0XHRcdGlmIChodG1sRWxlbWVudCkge1xyXG5cdFx0XHRcdGVsLmFwcGVuZENoaWxkKGh0bWxFbGVtZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyZXVyIHBhcnNpbmcgc2hvcnRjb2RlOicsIGVycm9yKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByb2Nlc3NFbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjb250ZXh0OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0KSB7XHJcblx0XHRjb25zb2xlLmxvZygnUHJvY2Vzc2luZyBlbGVtZW50OicsIGVsZW1lbnQpO1xyXG5cdFx0XHJcblx0XHQvLyBUcmFpdGVyIHRvdXMgbGVzIG5cdTAxNTN1ZHMsIHkgY29tcHJpcyBkYW5zIGxlcyBwYXJhZ3JhcGhlc1xyXG5cdFx0dGhpcy5wcm9jZXNzTm9kZVJlY3Vyc2l2ZWx5KGVsZW1lbnQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwcm9jZXNzTm9kZVJlY3Vyc2l2ZWx5KG5vZGU6IE5vZGUpIHtcclxuXHRcdGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xyXG5cdFx0XHRjb25zdCB0ZXh0Tm9kZSA9IG5vZGUgYXMgVGV4dDtcclxuXHRcdFx0aWYgKHRleHROb2RlLnRleHRDb250ZW50ICYmIHRoaXMuY29udGFpbnNTaG9ydGNvZGUodGV4dE5vZGUudGV4dENvbnRlbnQpKSB7XHJcblx0XHRcdFx0dGhpcy5wcm9jZXNzVGV4dE5vZGUodGV4dE5vZGUpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBUcmFpdGVyIGxlcyBlbmZhbnRzXHJcblx0XHRjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20obm9kZS5jaGlsZE5vZGVzKTtcclxuXHRcdGNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gdGhpcy5wcm9jZXNzTm9kZVJlY3Vyc2l2ZWx5KGNoaWxkKSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvbnRhaW5zU2hvcnRjb2RlKHRleHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0Y29uc3QgaGFzU2hvcnRjb2RlID0gL1xceyUuKiVcXH0vLnRlc3QodGV4dCk7XHJcblx0XHRpZiAoaGFzU2hvcnRjb2RlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdGb3VuZCBzaG9ydGNvZGUgaW4gdGV4dDonLCB0ZXh0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBoYXNTaG9ydGNvZGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHByb2Nlc3NUZXh0Tm9kZSh0ZXh0Tm9kZTogVGV4dCkge1xyXG5cdFx0Y29uc3QgdGV4dCA9IHRleHROb2RlLnRleHRDb250ZW50IHx8ICcnO1xyXG5cdFx0Y29uc3QgZnJhZ21lbnRzOiAoc3RyaW5nIHwgSFRNTEVsZW1lbnQpW10gPSBbXTtcclxuXHRcdGxldCBsYXN0SW5kZXggPSAwO1xyXG5cclxuXHRcdFNIT1JUQ09ERV9SRUdFWC5sYXN0SW5kZXggPSAwO1xyXG5cdFx0XHJcblx0XHRsZXQgbWF0Y2g7XHJcblx0XHR3aGlsZSAoKG1hdGNoID0gU0hPUlRDT0RFX1JFR0VYLmV4ZWModGV4dCkpICE9PSBudWxsKSB7XHJcblx0XHRcdGlmIChtYXRjaC5pbmRleCA+IGxhc3RJbmRleCkge1xyXG5cdFx0XHRcdGZyYWdtZW50cy5wdXNoKHRleHQuc2xpY2UobGFzdEluZGV4LCBtYXRjaC5pbmRleCkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBbZnVsbE1hdGNoLCB0eXBlLCBwYXJhbXNdID0gbWF0Y2g7XHJcblx0XHRcdGNvbnN0IGh0bWxFbGVtZW50ID0gdGhpcy5wYXJzZUFuZFJlbmRlcih0eXBlLCBwYXJhbXMpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGh0bWxFbGVtZW50KSB7XHJcblx0XHRcdFx0ZnJhZ21lbnRzLnB1c2goaHRtbEVsZW1lbnQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZyYWdtZW50cy5wdXNoKGZ1bGxNYXRjaCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxhc3RJbmRleCA9IG1hdGNoLmluZGV4ICsgZnVsbE1hdGNoLmxlbmd0aDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAobGFzdEluZGV4IDwgdGV4dC5sZW5ndGgpIHtcclxuXHRcdFx0ZnJhZ21lbnRzLnB1c2godGV4dC5zbGljZShsYXN0SW5kZXgpKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZnJhZ21lbnRzLmxlbmd0aCA+IDEgfHwgKGZyYWdtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGZyYWdtZW50c1swXSAhPT0gJ3N0cmluZycpKSB7XHJcblx0XHRcdGNvbnN0IHBhcmVudE5vZGUgPSB0ZXh0Tm9kZS5wYXJlbnROb2RlO1xyXG5cdFx0XHRpZiAocGFyZW50Tm9kZSkge1xyXG5cdFx0XHRcdGZyYWdtZW50cy5mb3JFYWNoKGZyYWdtZW50ID0+IHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgZnJhZ21lbnQgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRcdGlmIChmcmFnbWVudC50cmltKCkpIHtcclxuXHRcdFx0XHRcdFx0XHRwYXJlbnROb2RlLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShmcmFnbWVudCksIHRleHROb2RlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZnJhZ21lbnQsIHRleHROb2RlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRleHROb2RlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZUFuZFJlbmRlcih0eXBlOiBzdHJpbmcsIHBhcmFtczogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHBhcnNlZFBhcmFtcyA9IHBhcnNlU2hvcnRjb2RlUGFyYW1zKHBhcmFtcyk7XHJcblx0XHRcdHJldHVybiB0aGlzLnJlbmRlcmVyLnJlbmRlcih0eXBlLCBwYXJzZWRQYXJhbXMpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyZXVyIHBhcnNpbmcgc2hvcnRjb2RlOicsIGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUE0Rjs7O0FDRXJGLElBQU0sa0JBQWlDO0FBQUEsRUFDN0MsS0FBSztBQUFBLEVBQ0wsVUFBVTtBQUFBLEVBQ1YsT0FBTztBQUFBLEVBQ1AsWUFBWTtBQUFBLEVBQ1osVUFBVTtBQUFBLEVBQ1YsYUFBYTtBQUFBLEVBQ2IsV0FB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
